<div class="body-principal-sapni">

  <!-- Título Principal de la Página-->
  <div class="div-title form-inline col-sm-12 mb-2">
    <h1 class="text-uppercase"><img class="logo_2"
        src="../images/logo_utp.png"> formulario de solicitud de apoyo
      económico</h1>
    <input class="fecha ml-3"
      type="text"
      ng-model="ctrl.date"
      disabled>
    <button class="btn btn-primary btn-send ml-4"
      href="#">Cerrar sesión</button>
  </div>

  <!-- grid-div agregarEstudiante -->
  <div class="container-body">
    <div class="col-md-12">
      <form action=""
        name="solicitudApoyoEconomico"
        class="form-horizontal"
        ng-submit="ctrl.saveStudent()">

        <div class="grid-div"
          ng-repeat="estudiante in ctrl.estudiante.cedulas">

          <div class="form-group row ml-2 mt-3">
            <label class="control-label txt-subtitle">Cédula</label>
            <input class="ml-2 col-sm-2 form-control txt-input-small mr-5"
              type="text"
              name="identification"
              ng-required="true"
              ng-model="estudiante.cedula"
              ng-change="ctrl.validateIdentification(estudiante.cedula, solicitudApoyoEconomico.identification)">

            <span class="ml-5 link-text"
              ng-if="ctrl.estudiante.cedulas.length > 1 && $index > 0"><i class="far fa-trash-alt mr-1"></i><a
                class="font-normal"
                ng-click="ctrl.eraseStudent(estudiante)">Eliminar estudiante</a></span>
          </div>

          <div class="form-group row ml-2 mt-2">
            <label class="control-label txt-subtitle">Última vez que participó en un evento</label>
            <select class="ml-2 col-sm-9 txt-input-small"
              ng-model="estudiante.ultima_participacion">
              <option ng-value="lateEvent.name"
                ng-repeat="lateEvent in ctrl.catalogs.lateParticipateEvent track by $index"
                ng-required="true">{{lateEvent.name}}</option>
            </select>

          </div>

          <!-- alerta de error datos no encontrados-->
          <div class="alert alert-danger"
            role="alert" ng-if="solicitudApoyoEconomico.identification.$invalid && solicitudApoyoEconomico.cedula.$touched">
            <i class="fa fa-times"></i>Cédula errónea o no existente. Por favor, inténtelo otra vez.
          </div>

        </div>
        <!-- Termina grid-div agregarEstudiante -->

        <span class="mt-3 link-text"><i class="fa fa-plus-circle mr-1"></i><a class="font-normal"
            ng-click="ctrl.addStudent($index)">Agregar estudiante</a></span>

        <!-- grid-div  -->
        <div class="grid-div mt-3">

          <div class="form-group row ml-2 mt-3">
            <label class="control-label txt-subtitle">Evento en el que desea participar</label>
            <input type="text"
              class="ml-2 col-sm-9 txt-input-small"
              ng-model="ctrl.estudiante.evento"
              ng-required="true">

          </div>

          <div class="form-group row ml-2 mt-2">

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Tipo de evento</label>
              <div class="radio"
                ng-repeat="event in ctrl.catalogs.tipoEvento track by $index">
                <input type="radio"
                  ng-value="event.id"
                  name="tipoEvento"
                  ng-model="ctrl.estudiante.id_tipo_evento"
                  ng-required="true"><label class="ml-2">{{event.nombre}}</label>
              </div>
            </div>

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Alcande del evento</label>
              <div class="radio"
                ng-repeat="alcance in ctrl.catalogs.alcanceEvento track by $index">
                <input type="radio"
                  ng-value="alcance.id"
                  name="alcanceEvento"
                  ng-model="ctrl.estudiante.id_alcance_evento"
                  ng-required="true"><label class="ml-2">{{alcance.nombre}}</label>
              </div>
            </div>

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Lugar</label>
              <input type="text"
                class="col-sm-9 txt-input-small"
                name="lugar"
                ng-model="ctrl.estudiante.lugar"
                ng-required="true">
            </div>

          </div>

          <div class="form-group row ml-2 mt-2">

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Proyección de la institución a través del
                evento</label>
              <div class="radio"
                ng-repeat="proyeccion in ctrl.catalogs.proyeccionUtp track by $index">
                <input type="radio"
                  name="proyeccionUtp"
                  ng-value="proyeccion.id"
                  ng-model="ctrl.estudiante.id_proyeccion_utp"
                  ng-required="true"><label class="ml-2">{{proyeccion.nombre}}</label>
              </div>
            </div>

            <div class="col-sm-3">
              <label class="control-label txt-subtitle">Fecha de participación en el evento</label>

              <label class="control-label">Inicio</label>
              <input class="form-control txt-input-small mr-5"
                type="date"
                ng-model="ctrl.inicio_evento"
                ng-required="true">

              <label class="control-label">Fin</label>
              <input class="form-control txt-input-small mr-5"
                type="date"
                ng-model="ctrl.fin_evento"
                ng-required="true">
            </div>

            <div class="ml-auto col-sm-4">
              <label class="control-label txt-subtitle">Apoyo ofrecido</label>
              <div class="radio"
                ng-repeat="apoyoOfrecido in ctrl.catalogs.apoyoPatrocinador track by $index">
                <input class="ml-4"
                  type="radio"
                  name="apoyoOfrecido"
                  ng-value="apoyoOfrecido.id"
                  ng-model="ctrl.estudiante.id_apoyo_ofrecido"
                  ng-required="true">
                <label class="control-label">{{apoyoOfrecido.nombre}}</label>
              </div>
            </div>
          </div>

          <div class="form-group row ml-2 mt-2">

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Apoyo solicitado a UTP</label>
              <div class="radio"
                ng-repeat="apoyoSolicitado  in ctrl.catalogs.apoyoSolicitado track by $index">
                <input type="radio"
                  name="apoyoSolicitado"
                  ng-value="apoyoSolicitado.id"
                  ng-model="ctrl.estudiante.id_apoyo_solicitado"
                  ng-required="true">
                <label class="control-label">{{apoyoSolicitado.nombre}}</label>
              </div>
            </div>

            <div class="col-sm-4">
              <label class="control-label txt-subtitle">Justificación y beneficio de la
                participación</label>
              <textarea class="form-control txt-area"
                name="justificacion"
                id="justificacion"
                rows="3"
                ng-model="ctrl.estudiante.justificacion"
                ng-required="true"></textarea>
            </div>

          </div>

          <div class="col-sm-3">
            <input class="btn btn-primary btn-next"
              type="submit"
              value="Siguiente">
          </div>
        </div>
      </form>

    </div>
  </div>

</div>